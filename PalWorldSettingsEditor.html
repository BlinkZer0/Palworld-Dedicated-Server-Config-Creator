<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Palworld Server Settings Editor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .controls {
            padding: 20px 30px;
            background: #f7fafc;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: #5a67d8;
            color: white;
        }

        .btn-primary:hover {
            background: #4c51bf;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(90, 103, 216, 0.4);
        }

        .btn-secondary {
            background: #48bb78;
            color: white;
        }

        .btn-secondary:hover {
            background: #38a169;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(72, 187, 120, 0.4);
        }

        .btn-danger {
            background: #f56565;
            color: white;
        }

        .btn-danger:hover {
            background: #e53e3e;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(245, 101, 101, 0.4);
        }

        .content {
            padding: 30px;
        }

        .section {
            margin-bottom: 30px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            overflow: visible;
        }

        .section-header {
            background: #edf2f7;
            padding: 15px 20px;
            font-size: 1.3em;
            font-weight: 600;
            color: #2d3748;
            cursor: pointer;
            user-select: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s ease;
        }

        .section-header:hover {
            background: #e2e8f0;
        }

        .section-header::after {
            content: '▼';
            transition: transform 0.3s ease;
        }

        .section-header.collapsed::after {
            transform: rotate(-90deg);
        }

        .section-content {
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            background: white;
            overflow: visible;
        }

        .section-content.collapsed {
            display: none;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: visible;
        }

        .form-group label {
            font-weight: 600;
            margin-bottom: 6px;
            color: #2d3748;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
            color: #5a67d8;
            font-size: 0.9em;
        }

        .tooltip:hover::after {
            content: attr(data-tip);
            position: absolute;
            left: 0;
            top: 25px;
            background: #2d3748;
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            white-space: nowrap;
            z-index: 10000;
            font-size: 12px;
            font-weight: normal;
            max-width: 300px;
            white-space: normal;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            pointer-events: none;
        }

        .tooltip:hover::before {
            content: '';
            position: absolute;
            left: 8px;
            top: 18px;
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-bottom: 7px solid #2d3748;
            z-index: 10001;
            pointer-events: none;
        }

        input[type="text"],
        input[type="number"],
        input[type="password"],
        select,
        textarea {
            padding: 10px 12px;
            border: 2px solid #e2e8f0;
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        input[type="password"]:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #5a67d8;
            box-shadow: 0 0 0 3px rgba(90, 103, 216, 0.1);
        }

        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .output-section {
            margin-top: 30px;
            padding: 20px;
            background: #f7fafc;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }

        .output-section h3 {
            margin-bottom: 15px;
            color: #2d3748;
        }

        textarea#output {
            width: 100%;
            min-height: 200px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            resize: vertical;
        }

        .file-input-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
        }

        .file-input-wrapper input[type=file] {
            position: absolute;
            left: -9999px;
        }

        .multi-select-wrapper {
            border: 2px solid #e2e8f0;
            border-radius: 6px;
            padding: 10px;
        }

        .multi-select-option {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 5px 0;
        }

        .success-message {
            padding: 12px;
            background: #c6f6d5;
            color: #22543d;
            border-radius: 6px;
            margin-top: 10px;
            display: none;
        }

        .error-message {
            padding: 12px;
            background: #fed7d7;
            color: #742a2a;
            border-radius: 6px;
            margin-top: 10px;
            display: none;
        }

        @media (max-width: 768px) {
            .section-content {
                grid-template-columns: 1fr;
            }

            .controls {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }
        }

        /* Enhanced UI Styles */
        .section-icon {
            width: 28px;
            height: 28px;
            margin-right: 12px;
            display: inline-block;
            vertical-align: middle;
        }

        .section-header-content {
            display: flex;
            align-items: center;
            flex: 1;
        }

        .value-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-left: 8px;
            animation: pulse 2s infinite;
        }

        .value-normal { background: #48bb78; }
        .value-high { background: #f6ad55; }
        .value-extreme { background: #fc8181; }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .loading-spinner {
            display: none;
            width: 40px;
            height: 40px;
            margin: 20px auto;
            animation: spin 1s linear infinite;
        }

        .loading-spinner.active {
            display: block;
        }

        .preset-buttons {
            display: flex;
            gap: 10px;
            padding: 10px 30px;
            background: #edf2f7;
            border-bottom: 1px solid #e2e8f0;
            flex-wrap: wrap;
        }

        .btn-preset {
            padding: 8px 16px;
            border: 2px solid;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: white;
        }

        .btn-preset:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .btn-preset.casual {
            border-color: #48bb78;
            color: #22543d;
        }

        .btn-preset.normal {
            border-color: #4299e1;
            color: #2c5282;
        }

        .btn-preset.hardcore {
            border-color: #f56565;
            color: #742a2a;
        }

        .preset-icon {
            width: 16px;
            height: 16px;
        }

        .form-group {
            position: relative;
        }

        .input-with-indicator input[type="number"] {
            padding-right: 35px;
        }

        .range-badge {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 10px;
            font-weight: 600;
            padding: 2px 6px;
            border-radius: 3px;
            pointer-events: none;
        }

        .range-low {
            background: #bee3f8;
            color: #2c5282;
        }

        .range-normal {
            background: #c6f6d5;
            color: #22543d;
        }

        .range-high {
            background: #fed7d7;
            color: #742a2a;
        }

        .success-message, .error-message {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .message-icon {
            width: 20px;
            height: 20px;
        }

        /* Color-coded section borders */
        .section.server-info { border-left: 4px solid #5a67d8; }
        .section.multiplayer { border-left: 4px solid #48bb78; }
        .section.gameplay { border-left: 4px solid #ed8936; }
        .section.randomizer { border-left: 4px solid #9f7aea; }
        .section.player { border-left: 4px solid #4299e1; }
        .section.pal { border-left: 4px solid #f6ad55; }
        .section.building { border-left: 4px solid #fc8181; }
        .section.resources { border-left: 4px solid #38b2ac; }
        .section.guild { border-left: 4px solid #d69e2e; }
        .section.enemy { border-left: 4px solid #e53e3e; }
        .section.management { border-left: 4px solid #667eea; }
        .section.rcon { border-left: 4px solid #805ad5; }
    </style>

    <!-- SVG Icon Definitions -->
    <svg style="display: none;">
        <defs>
            <!-- Server Icon -->
            <symbol id="icon-server" viewBox="0 0 24 24">
                <rect x="2" y="4" width="20" height="6" rx="2" fill="currentColor" opacity="0.3"/>
                <rect x="2" y="12" width="20" height="6" rx="2" fill="currentColor" opacity="0.5"/>
                <rect x="2" y="20" width="20" height="2" rx="1" fill="currentColor" opacity="0.7"/>
                <circle cx="6" cy="7" r="1" fill="#48bb78">
                    <animate attributeName="opacity" values="1;0.3;1" dur="2s" repeatCount="indefinite"/>
                </circle>
                <circle cx="10" cy="7" r="1" fill="#48bb78">
                    <animate attributeName="opacity" values="1;0.3;1" dur="2s" begin="0.3s" repeatCount="indefinite"/>
                </circle>
                <circle cx="6" cy="15" r="1" fill="#48bb78">
                    <animate attributeName="opacity" values="1;0.3;1" dur="2s" begin="0.6s" repeatCount="indefinite"/>
                </circle>
            </symbol>

            <!-- Multiplayer Icon -->
            <symbol id="icon-multiplayer" viewBox="0 0 24 24">
                <circle cx="9" cy="7" r="3" fill="currentColor" opacity="0.5"/>
                <circle cx="15" cy="7" r="3" fill="currentColor" opacity="0.7"/>
                <path d="M9 11c-2.5 0-7 1.3-7 4v2h14v-2c0-2.7-4.5-4-7-4z" fill="currentColor" opacity="0.5"/>
                <path d="M15 11c-2.5 0-7 1.3-7 4v2h14v-2c0-2.7-4.5-4-7-4z" fill="currentColor" opacity="0.7"/>
            </symbol>

            <!-- Gameplay Icon -->
            <symbol id="icon-gameplay" viewBox="0 0 24 24">
                <path d="M6 9h6v2H6V9zm4 4H6v2h4v-2zm8-4v2h-2V9h-2v2h2v2h2v-2h2V9h-2z" fill="currentColor" opacity="0.7"/>
                <path d="M18 5H6C3.8 5 2 6.8 2 9v6c0 2.2 1.8 4 4 4h12c2.2 0 4-1.8 4-4V9c0-2.2-1.8-4-4-4z" stroke="currentColor" fill="none" stroke-width="2"/>
                <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="5 12 12" dur="0.5s" repeatCount="indefinite"/>
            </symbol>

            <!-- Randomizer Icon -->
            <symbol id="icon-randomizer" viewBox="0 0 24 24">
                <rect x="3" y="3" width="6" height="6" rx="1" fill="currentColor" opacity="0.5">
                    <animate attributeName="opacity" values="0.5;1;0.5" dur="1.5s" repeatCount="indefinite"/>
                </rect>
                <rect x="3" y="13" width="6" height="6" rx="1" fill="currentColor" opacity="0.7">
                    <animate attributeName="opacity" values="0.7;0.3;0.7" dur="1.5s" begin="0.3s" repeatCount="indefinite"/>
                </rect>
                <rect x="15" y="3" width="6" height="6" rx="1" fill="currentColor" opacity="0.6">
                    <animate attributeName="opacity" values="0.6;1;0.6" dur="1.5s" begin="0.6s" repeatCount="indefinite"/>
                </rect>
                <rect x="15" y="13" width="6" height="6" rx="1" fill="currentColor" opacity="0.8">
                    <animate attributeName="opacity" values="0.8;0.4;0.8" dur="1.5s" begin="0.9s" repeatCount="indefinite"/>
                </rect>
            </symbol>

            <!-- Player Icon -->
            <symbol id="icon-player" viewBox="0 0 24 24">
                <circle cx="12" cy="7" r="4" fill="currentColor" opacity="0.6"/>
                <path d="M12 12c-4 0-8 2-8 5v3h16v-3c0-3-4-5-8-5z" fill="currentColor" opacity="0.7"/>
            </symbol>

            <!-- Pal Icon -->
            <symbol id="icon-pal" viewBox="0 0 24 24">
                <circle cx="9" cy="9" r="2" fill="currentColor" opacity="0.7"/>
                <circle cx="15" cy="9" r="2" fill="currentColor" opacity="0.7"/>
                <path d="M12 4c-4 0-7 3-7 7v5c0 3 3 5 7 5s7-2 7-5v-5c0-4-3-7-7-7z" fill="currentColor" opacity="0.5"/>
                <path d="M9 14c0 1.5 1.3 3 3 3s3-1.5 3-3" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round"/>
                <animateTransform attributeName="transform" type="translate" from="0 0" to="0 2" dur="1s" repeatCount="indefinite" direction="alternate"/>
            </symbol>

            <!-- Building Icon -->
            <symbol id="icon-building" viewBox="0 0 24 24">
                <path d="M12 3L4 9v12h16V9l-8-6z" fill="currentColor" opacity="0.5"/>
                <rect x="9" y="13" width="2" height="4" fill="currentColor" opacity="0.8"/>
                <rect x="13" y="13" width="2" height="4" fill="currentColor" opacity="0.8"/>
                <rect x="9" y="9" width="2" height="2" fill="currentColor" opacity="0.6"/>
                <rect x="13" y="9" width="2" height="2" fill="currentColor" opacity="0.6"/>
            </symbol>

            <!-- Resources Icon -->
            <symbol id="icon-resources" viewBox="0 0 24 24">
                <path d="M12 2L8 8h8l-4-6z" fill="currentColor" opacity="0.7">
                    <animate attributeName="opacity" values="0.7;1;0.7" dur="2s" repeatCount="indefinite"/>
                </path>
                <path d="M8 8l-4 6h8l-4-6z" fill="currentColor" opacity="0.5"/>
                <path d="M16 8l-4 6h8l-4-6z" fill="currentColor" opacity="0.6"/>
                <path d="M12 14l-4 6h8l-4-6z" fill="currentColor" opacity="0.8"/>
            </symbol>

            <!-- Guild Icon -->
            <symbol id="icon-guild" viewBox="0 0 24 24">
                <path d="M12 2L2 7v10c0 5 10 8 10 8s10-3 10-8V7L12 2z" fill="currentColor" opacity="0.5"/>
                <path d="M12 8v8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <path d="M8 10l4 4 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
            </symbol>

            <!-- Enemy Icon -->
            <symbol id="icon-enemy" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" fill="currentColor" opacity="0.3">
                    <animate attributeName="r" values="10;11;10" dur="1s" repeatCount="indefinite"/>
                </circle>
                <path d="M8 10l2-2 2 2-2 2-2-2zm6 0l2-2 2 2-2 2-2-2z" fill="currentColor" opacity="0.7"/>
                <path d="M8 15c1 2 3 3 4 3s3-1 4-3" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/>
            </symbol>

            <!-- Management Icon -->
            <symbol id="icon-management" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="2" fill="currentColor"/>
                <path d="M12 6v2m0 8v2m6-6h-2m-8 0H6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <circle cx="12" cy="12" r="8" stroke="currentColor" fill="none" stroke-width="2">
                    <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="20s" repeatCount="indefinite"/>
                </circle>
            </symbol>

            <!-- RCON Icon -->
            <symbol id="icon-rcon" viewBox="0 0 24 24">
                <path d="M3 9l9-7 9 7v11H3V9z" fill="currentColor" opacity="0.3"/>
                <circle cx="8" cy="14" r="1.5" fill="currentColor"/>
                <circle cx="12" cy="14" r="1.5" fill="currentColor"/>
                <circle cx="16" cy="14" r="1.5" fill="currentColor"/>
                <path d="M7 17h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </symbol>

            <!-- Check Icon -->
            <symbol id="icon-check" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" fill="#48bb78"/>
                <path d="M9 12l2 2 4-4" stroke="white" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
            </symbol>

            <!-- Error Icon -->
            <symbol id="icon-error" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" fill="#f56565"/>
                <path d="M15 9l-6 6m0-6l6 6" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </symbol>

            <!-- Loading Spinner -->
            <symbol id="icon-spinner" viewBox="0 0 50 50">
                <circle cx="25" cy="25" r="20" fill="none" stroke="#5a67d8" stroke-width="4" stroke-dasharray="31.4 31.4" stroke-linecap="round">
                    <animateTransform attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="1s" repeatCount="indefinite"/>
                </circle>
            </symbol>

            <!-- Preset Icons -->
            <symbol id="icon-casual" viewBox="0 0 24 24">
                <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2z" fill="currentColor" opacity="0.3"/>
                <circle cx="9" cy="10" r="1.5" fill="currentColor"/>
                <circle cx="15" cy="10" r="1.5" fill="currentColor"/>
                <path d="M8 15c1 2 3 2 4 2s3 0 4-2" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/>
            </symbol>

            <symbol id="icon-normal" viewBox="0 0 24 24">
                <path d="M12 2L2 7v10c0 5 10 8 10 8s10-3 10-8V7L12 2z" fill="currentColor" opacity="0.4"/>
                <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
            </symbol>

            <symbol id="icon-hardcore" viewBox="0 0 24 24">
                <path d="M12 2l3 7h7l-5.5 4 2 7-6.5-5-6.5 5 2-7L2 9h7l3-7z" fill="currentColor" opacity="0.5"/>
                <circle cx="12" cy="12" r="3" fill="currentColor">
                    <animate attributeName="r" values="3;3.5;3" dur="0.5s" repeatCount="indefinite"/>
                </circle>
            </symbol>
        </defs>
    </svg>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>⚙️ Palworld Server Settings Editor</h1>
            <p>Configure your dedicated server settings with ease</p>
        </div>

        <div class="preset-buttons">
            <button class="btn-preset casual" onclick="applyPreset('casual')">
                <svg class="preset-icon"><use href="#icon-casual"/></svg>
                Casual Mode
            </button>
            <button class="btn-preset normal" onclick="applyPreset('normal')">
                <svg class="preset-icon"><use href="#icon-normal"/></svg>
                Normal Mode
            </button>
            <button class="btn-preset hardcore" onclick="applyPreset('hardcore')">
                <svg class="preset-icon"><use href="#icon-hardcore"/></svg>
                Hardcore Mode
            </button>
        </div>

        <div class="controls">
            <div class="file-input-wrapper">
                <button class="btn btn-primary" onclick="document.getElementById('fileInput').click()">
                    📂 Load from INI File
                </button>
                <input type="file" id="fileInput" accept=".ini" onchange="loadFromFile(event)">
            </div>
            <button class="btn btn-secondary" onclick="generateINI()">✅ Generate INI Output</button>
            <button class="btn btn-secondary" onclick="copyToClipboard()">📋 Copy to Clipboard</button>
            <button class="btn btn-danger" onclick="resetToDefaults()">🔄 Reset to Defaults</button>
        </div>

        <svg class="loading-spinner" id="loadingSpinner">
            <use href="#icon-spinner"/>
        </svg>

        <div id="successMessage" class="success-message">
            <svg class="message-icon"><use href="#icon-check"/></svg>
            <span></span>
        </div>
        <div id="errorMessage" class="error-message">
            <svg class="message-icon"><use href="#icon-error"/></svg>
            <span></span>
        </div>

        <div class="content">
            <form id="settingsForm">
                <!-- Server Information Section -->
                <div class="section server-info">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-header-content">
                            <svg class="section-icon"><use href="#icon-server"/></svg>
                            Server Information
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label>Server Name <span class="tooltip" data-tip="The name of your server as it appears in the server list">ℹ️</span></label>
                            <input type="text" id="ServerName" value="Default Palworld Server">
                        </div>
                        <div class="form-group">
                            <label>Server Description <span class="tooltip" data-tip="A description of your server">ℹ️</span></label>
                            <input type="text" id="ServerDescription" value="">
                        </div>
                        <div class="form-group">
                            <label>Server Password <span class="tooltip" data-tip="Password required to join the server (leave empty for no password)">ℹ️</span></label>
                            <input type="password" id="ServerPassword" value="">
                        </div>
                        <div class="form-group">
                            <label>Admin Password <span class="tooltip" data-tip="Password for server administration">ℹ️</span></label>
                            <input type="password" id="AdminPassword" value="">
                        </div>
                        <div class="form-group">
                            <label>Public IP <span class="tooltip" data-tip="Your server's public IP address">ℹ️</span></label>
                            <input type="text" id="PublicIP" value="">
                        </div>
                        <div class="form-group">
                            <label>Public Port <span class="tooltip" data-tip="Port for game connections (default: 8211)">ℹ️</span></label>
                            <input type="number" id="PublicPort" value="8211" min="1024" max="65535">
                        </div>
                        <div class="form-group">
                            <label>Region <span class="tooltip" data-tip="Server region identifier">ℹ️</span></label>
                            <input type="text" id="Region" value="">
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bUseAuth">
                                Use Authentication <span class="tooltip" data-tip="Enable Steam authentication">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bShowPlayerList">
                                Show Player List <span class="tooltip" data-tip="Display player list publicly">ℹ️</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Multiplayer Settings Section -->
                <div class="section multiplayer">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-header-content">
                            <svg class="section-icon"><use href="#icon-multiplayer"/></svg>
                            Multiplayer Settings
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label>Max Players <span class="tooltip" data-tip="Maximum number of players (1-32)">ℹ️</span></label>
                            <input type="number" id="ServerPlayerMaxNum" value="32" min="1" max="32">
                        </div>
                        <div class="form-group">
                            <label>Co-op Players <span class="tooltip" data-tip="Maximum number of co-op players">ℹ️</span></label>
                            <input type="number" id="CoopPlayerMaxNum" value="4" min="1" max="4">
                        </div>
                        <div class="form-group">
                            <label>Guild Max Players <span class="tooltip" data-tip="Maximum players per guild (1-100)">ℹ️</span></label>
                            <input type="number" id="GuildPlayerMaxNum" value="20" min="1" max="100">
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bIsMultiplay">
                                Multiplayer Enabled <span class="tooltip" data-tip="Enable multiplayer mode">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bIsPvP">
                                PvP Enabled <span class="tooltip" data-tip="Enable player vs player combat">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bEnablePlayerToPlayerDamage">
                                Player-to-Player Damage <span class="tooltip" data-tip="Allow players to damage each other">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bEnableFriendlyFire">
                                Friendly Fire <span class="tooltip" data-tip="Enable damage to allies">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bEnableDefenseOtherGuildPlayer">
                                Defense vs Other Guilds <span class="tooltip" data-tip="Enable defense against other guild players">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bCanPickupOtherGuildDeathPenaltyDrop">
                                Pickup Other Guild Drops <span class="tooltip" data-tip="Allow picking up death penalty drops from other guilds">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label>Crossplay Platforms <span class="tooltip" data-tip="Select platforms to enable crossplay with">ℹ️</span></label>
                            <div class="multi-select-wrapper">
                                <div class="multi-select-option">
                                    <input type="checkbox" id="platform_Steam" value="Steam" checked>
                                    <label for="platform_Steam">Steam</label>
                                </div>
                                <div class="multi-select-option">
                                    <input type="checkbox" id="platform_Xbox" value="Xbox" checked>
                                    <label for="platform_Xbox">Xbox</label>
                                </div>
                                <div class="multi-select-option">
                                    <input type="checkbox" id="platform_PS5" value="PS5" checked>
                                    <label for="platform_PS5">PS5</label>
                                </div>
                                <div class="multi-select-option">
                                    <input type="checkbox" id="platform_Mac" value="Mac" checked>
                                    <label for="platform_Mac">Mac</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Gameplay Settings Section -->
                <div class="section gameplay">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-header-content">
                            <svg class="section-icon"><use href="#icon-gameplay"/></svg>
                            Gameplay Settings
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label>Difficulty <span class="tooltip" data-tip="Game difficulty level">ℹ️</span></label>
                            <select id="Difficulty">
                                <option value="None">None</option>
                                <option value="Normal">Normal</option>
                                <option value="Difficult">Difficult</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Death Penalty <span class="tooltip" data-tip="What you lose on death">ℹ️</span></label>
                            <select id="DeathPenalty">
                                <option value="None">None</option>
                                <option value="Item">Items Only</option>
                                <option value="ItemAndEquipment">Items & Equipment</option>
                                <option value="All" selected>All</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Experience Rate <span class="tooltip" data-tip="XP gain multiplier (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="ExpRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Pal Capture Rate <span class="tooltip" data-tip="Capture chance multiplier (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="PalCaptureRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Day Speed Rate <span class="tooltip" data-tip="Daytime speed multiplier (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="DayTimeSpeedRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Night Speed Rate <span class="tooltip" data-tip="Nighttime speed multiplier (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="NightTimeSpeedRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bHardcore">
                                Hardcore Mode <span class="tooltip" data-tip="Permanent death mode">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bPalLost">
                                Pal Lost on Death <span class="tooltip" data-tip="Pals are permanently lost on death">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bCharacterRecreateInHardcore">
                                Character Recreate in Hardcore <span class="tooltip" data-tip="Allow character recreation in hardcore mode">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bEnableFastTravel" checked>
                                Fast Travel Enabled <span class="tooltip" data-tip="Allow fast travel">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bIsStartLocationSelectByMap" checked>
                                Select Start Location <span class="tooltip" data-tip="Allow starting location selection on map">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bEnableAimAssistPad" checked>
                                Aim Assist (Gamepad) <span class="tooltip" data-tip="Enable aim assist for gamepad users">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bEnableAimAssistKeyboard">
                                Aim Assist (Keyboard) <span class="tooltip" data-tip="Enable aim assist for keyboard users">ℹ️</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Randomizer Settings Section -->
                <div class="section randomizer">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-header-content">
                            <svg class="section-icon"><use href="#icon-randomizer"/></svg>
                            Randomizer Settings
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label>Randomizer Type <span class="tooltip" data-tip="Type of randomization">ℹ️</span></label>
                            <select id="RandomizerType">
                                <option value="None" selected>None</option>
                                <option value="Region">Region</option>
                                <option value="All">All</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Randomizer Seed <span class="tooltip" data-tip="Seed for randomization (leave empty for random)">ℹ️</span></label>
                            <input type="text" id="RandomizerSeed" value="">
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bIsRandomizerPalLevelRandom">
                                Randomize Pal Levels <span class="tooltip" data-tip="Randomize Pal levels">ℹ️</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Player Settings Section -->
                <div class="section player">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-header-content">
                            <svg class="section-icon"><use href="#icon-player"/></svg>
                            Player Settings
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label>Player Attack Damage <span class="tooltip" data-tip="Player attack damage multiplier (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="PlayerDamageRateAttack" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Player Defense <span class="tooltip" data-tip="Player defense multiplier (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="PlayerDamageRateDefense" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Hunger Decrease Rate <span class="tooltip" data-tip="Player hunger decrease rate (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="PlayerStomachDecreaceRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Stamina Decrease Rate <span class="tooltip" data-tip="Player stamina decrease rate (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="PlayerStaminaDecreaceRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>HP Regen Rate <span class="tooltip" data-tip="Player HP regeneration rate (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="PlayerAutoHPRegeneRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>HP Regen (Sleep) <span class="tooltip" data-tip="Player HP regen while sleeping (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="PlayerAutoHpRegeneRateInSleep" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Item Weight Rate <span class="tooltip" data-tip="Item weight multiplier (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="ItemWeightRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bExistPlayerAfterLogout">
                                Player Exists After Logout <span class="tooltip" data-tip="Player character remains in world after logout">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bEnableNonLoginPenalty" checked>
                                Non-Login Penalty <span class="tooltip" data-tip="Enable penalties for not logging in">ℹ️</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Pal Settings Section -->
                <div class="section pal">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-header-content">
                            <svg class="section-icon"><use href="#icon-pal"/></svg>
                            Pal Settings
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label>Pal Spawn Rate <span class="tooltip" data-tip="Pal spawn rate multiplier (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="PalSpawnNumRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Pal Attack Damage <span class="tooltip" data-tip="Pal attack damage multiplier (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="PalDamageRateAttack" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Pal Defense <span class="tooltip" data-tip="Pal defense multiplier (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="PalDamageRateDefense" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Pal Hunger Decrease <span class="tooltip" data-tip="Pal hunger decrease rate (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="PalStomachDecreaceRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Pal Stamina Decrease <span class="tooltip" data-tip="Pal stamina decrease rate (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="PalStaminaDecreaceRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Pal HP Regen <span class="tooltip" data-tip="Pal HP regeneration rate (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="PalAutoHPRegeneRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Pal HP Regen (Sleep) <span class="tooltip" data-tip="Pal HP regen while sleeping (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="PalAutoHpRegeneRateInSleep" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Pal Egg Hatch Time (hours) <span class="tooltip" data-tip="Time in hours for Pal eggs to hatch (0-240)">ℹ️</span></label>
                            <input type="number" id="PalEggDefaultHatchingTime" value="72.000000" step="1" min="0" max="240">
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bAllowGlobalPalboxExport" checked>
                                Allow Global Palbox Export <span class="tooltip" data-tip="Allow exporting Pals from global Palbox">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bAllowGlobalPalboxImport">
                                Allow Global Palbox Import <span class="tooltip" data-tip="Allow importing Pals to global Palbox">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="EnablePredatorBossPal" checked>
                                Enable Predator Boss Pals <span class="tooltip" data-tip="Enable predator boss Pals">ℹ️</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Base & Building Settings Section -->
                <div class="section building">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-header-content">
                            <svg class="section-icon"><use href="#icon-building"/></svg>
                            Base & Building Settings
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label>Max Base Camps <span class="tooltip" data-tip="Maximum number of base camps (1-128)">ℹ️</span></label>
                            <input type="number" id="BaseCampMaxNum" value="128" min="1" max="128">
                        </div>
                        <div class="form-group">
                            <label>Max Workers per Base <span class="tooltip" data-tip="Maximum workers per base (1-50)">ℹ️</span></label>
                            <input type="number" id="BaseCampWorkerMaxNum" value="15" min="1" max="50">
                        </div>
                        <div class="form-group">
                            <label>Max Bases in Guild <span class="tooltip" data-tip="Maximum base camps per guild (1-10)">ℹ️</span></label>
                            <input type="number" id="BaseCampMaxNumInGuild" value="4" min="1" max="10">
                        </div>
                        <div class="form-group">
                            <label>Building HP Rate <span class="tooltip" data-tip="Building HP multiplier (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="BuildObjectHpRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Building Damage Rate <span class="tooltip" data-tip="Damage to buildings multiplier (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="BuildObjectDamageRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Building Deterioration <span class="tooltip" data-tip="Building deterioration rate (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="BuildObjectDeteriorationDamageRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Work Speed Rate <span class="tooltip" data-tip="Work speed multiplier (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="WorkSpeedRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Max Building Limit <span class="tooltip" data-tip="Maximum building limit (0 = unlimited)">ℹ️</span></label>
                            <input type="number" id="MaxBuildingLimitNum" value="0" min="0" max="100000">
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bBuildAreaLimit">
                                Build Area Limit <span class="tooltip" data-tip="Restrict building near certain structures">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bInvisibleOtherGuildBaseCampAreaFX">
                                Hide Other Guild Base FX <span class="tooltip" data-tip="Hide visual effects of other guild bases">ℹ️</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Drops & Resources Section -->
                <div class="section resources">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-header-content">
                            <svg class="section-icon"><use href="#icon-resources"/></svg>
                            Drops & Resources
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label>Collection Drop Rate <span class="tooltip" data-tip="Resource drop rate multiplier (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="CollectionDropRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Collection Object HP <span class="tooltip" data-tip="Harvestable object HP multiplier (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="CollectionObjectHpRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Resource Respawn Speed <span class="tooltip" data-tip="Resource respawn speed multiplier (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="CollectionObjectRespawnSpeedRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Enemy Drop Rate <span class="tooltip" data-tip="Enemy item drop rate multiplier (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="EnemyDropItemRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Max Dropped Items <span class="tooltip" data-tip="Maximum dropped items in world (100-10000)">ℹ️</span></label>
                            <input type="number" id="DropItemMaxNum" value="3000" min="100" max="10000">
                        </div>
                        <div class="form-group">
                            <label>Max Dropped Items (UNKO) <span class="tooltip" data-tip="Maximum special dropped items (10-1000)">ℹ️</span></label>
                            <input type="number" id="DropItemMaxNum_UNKO" value="100" min="10" max="1000">
                        </div>
                        <div class="form-group">
                            <label>Drop Item Lifetime (hours) <span class="tooltip" data-tip="How long dropped items stay in world (0.1-24)">ℹ️</span></label>
                            <input type="number" id="DropItemAliveMaxHours" value="1.000000" step="0.1" min="0.1" max="24.0">
                        </div>
                        <div class="form-group">
                            <label>Supply Drop Interval (minutes) <span class="tooltip" data-tip="Time between supply drops (10-600)">ℹ️</span></label>
                            <input type="number" id="SupplyDropSpan" value="180" min="10" max="600">
                        </div>
                        <div class="form-group">
                            <label>Equipment Durability Damage <span class="tooltip" data-tip="Equipment durability damage rate (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="EquipmentDurabilityDamageRate" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Item Corruption Multiplier <span class="tooltip" data-tip="Item corruption rate multiplier (0.1-10.0)">ℹ️</span></label>
                            <input type="number" id="ItemCorruptionMultiplier" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                    </div>
                </div>

                <!-- Guild & Auto-Reset Settings Section -->
                <div class="section guild">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-header-content">
                            <svg class="section-icon"><use href="#icon-guild"/></svg>
                            Guild & Auto-Reset Settings
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bAutoResetGuildNoOnlinePlayers">
                                Auto Reset Guild (No Online) <span class="tooltip" data-tip="Auto reset guild when no players online">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label>Auto Reset Time (hours) <span class="tooltip" data-tip="Hours until guild auto-resets (1-168)">ℹ️</span></label>
                            <input type="number" id="AutoResetGuildTimeNoOnlinePlayers" value="72.000000" step="1" min="1" max="168">
                        </div>
                    </div>
                </div>

                <!-- Enemy & Invader Settings Section -->
                <div class="section enemy">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-header-content">
                            <svg class="section-icon"><use href="#icon-enemy"/></svg>
                            Enemy & Invader Settings
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bEnableInvaderEnemy" checked>
                                Enable Invader Enemies <span class="tooltip" data-tip="Enable enemy invasions">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bActiveUNKO">
                                Active UNKO <span class="tooltip" data-tip="Enable special UNKO feature">ℹ️</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Server Management Section -->
                <div class="section management">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-header-content">
                            <svg class="section-icon"><use href="#icon-management"/></svg>
                            Server Management
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label>Auto Save Interval (minutes) <span class="tooltip" data-tip="Time between auto-saves (5-60)">ℹ️</span></label>
                            <input type="number" id="AutoSaveSpan" value="30.000000" step="1" min="5" max="60">
                        </div>
                        <div class="form-group">
                            <label>Chat Post Limit/Min <span class="tooltip" data-tip="Maximum chat messages per minute (1-100)">ℹ️</span></label>
                            <input type="number" id="ChatPostLimitPerMinute" value="30" min="1" max="100">
                        </div>
                        <div class="form-group">
                            <label>Ban List URL <span class="tooltip" data-tip="URL to ban list">ℹ️</span></label>
                            <input type="text" id="BanListURL" value="https://api.palworldgame.com/api/banlist.txt">
                        </div>
                        <div class="form-group">
                            <label>Log Format Type <span class="tooltip" data-tip="Server log format type">ℹ️</span></label>
                            <select id="LogFormatType">
                                <option value="Text" selected>Text</option>
                                <option value="JSON">JSON</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bIsUseBackupSaveData" checked>
                                Use Backup Save Data <span class="tooltip" data-tip="Enable automatic backup saves">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label>Item Container Dirty Interval <span class="tooltip" data-tip="Container update interval in seconds (0.1-10)">ℹ️</span></label>
                            <input type="number" id="ItemContainerForceMarkDirtyInterval" value="1.000000" step="0.1" min="0.1" max="10.0">
                        </div>
                        <div class="form-group">
                            <label>Server Pawn Cull Distance <span class="tooltip" data-tip="Distance to cull pawns (1000-50000)">ℹ️</span></label>
                            <input type="number" id="ServerReplicatePawnCullDistance" value="15000.000000" step="1000" min="1000" max="50000">
                        </div>
                    </div>
                </div>

                <!-- RCON & REST API Section -->
                <div class="section rcon">
                    <div class="section-header" onclick="toggleSection(this)">
                        <div class="section-header-content">
                            <svg class="section-icon"><use href="#icon-rcon"/></svg>
                            RCON & REST API
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="RCONEnabled">
                                Enable RCON <span class="tooltip" data-tip="Enable Remote Console">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label>RCON Port <span class="tooltip" data-tip="Port for RCON (1024-65535)">ℹ️</span></label>
                            <input type="number" id="RCONPort" value="25575" min="1024" max="65535">
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="RESTAPIEnabled">
                                Enable REST API <span class="tooltip" data-tip="Enable REST API for server management">ℹ️</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label>REST API Port <span class="tooltip" data-tip="Port for REST API (1024-65535)">ℹ️</span></label>
                            <input type="number" id="RESTAPIPort" value="8212" min="1024" max="65535">
                        </div>
                    </div>
                </div>
            </form>

            <!-- Output Section -->
            <div class="output-section">
                <h3>Generated PalWorldSettings.ini Content</h3>
                <textarea id="output" readonly placeholder="Click 'Generate INI Output' to see the configuration file content here..."></textarea>
                <div id="copySuccess" class="success-message"></div>
            </div>
        </div>
    </div>

    <script>
        // Toggle section expand/collapse
        function toggleSection(header) {
            header.classList.toggle('collapsed');
            const content = header.nextElementSibling;
            content.classList.toggle('collapsed');
        }

        // Get all crossplay platforms
        function getCrossplayPlatforms() {
            const platforms = [];
            document.querySelectorAll('[id^="platform_"]').forEach(cb => {
                if (cb.checked) {
                    platforms.push(cb.value);
                }
            });
            return platforms.join(',');
        }

        // Helper function to format boolean values correctly for Palworld
        function formatBoolean(value) {
            return value ? 'True' : 'False';
        }

        // Generate INI file content
        function generateINI() {
            const platforms = getCrossplayPlatforms();

            const settings = `OptionSettings=(Difficulty=${document.getElementById('Difficulty').value},RandomizerType=${document.getElementById('RandomizerType').value},RandomizerSeed="${document.getElementById('RandomizerSeed').value}",bIsRandomizerPalLevelRandom=${formatBoolean(document.getElementById('bIsRandomizerPalLevelRandom').checked)},DayTimeSpeedRate=${document.getElementById('DayTimeSpeedRate').value},NightTimeSpeedRate=${document.getElementById('NightTimeSpeedRate').value},ExpRate=${document.getElementById('ExpRate').value},PalCaptureRate=${document.getElementById('PalCaptureRate').value},PalSpawnNumRate=${document.getElementById('PalSpawnNumRate').value},PalDamageRateAttack=${document.getElementById('PalDamageRateAttack').value},PalDamageRateDefense=${document.getElementById('PalDamageRateDefense').value},PlayerDamageRateAttack=${document.getElementById('PlayerDamageRateAttack').value},PlayerDamageRateDefense=${document.getElementById('PlayerDamageRateDefense').value},PlayerStomachDecreaceRate=${document.getElementById('PlayerStomachDecreaceRate').value},PlayerStaminaDecreaceRate=${document.getElementById('PlayerStaminaDecreaceRate').value},PlayerAutoHPRegeneRate=${document.getElementById('PlayerAutoHPRegeneRate').value},PlayerAutoHpRegeneRateInSleep=${document.getElementById('PlayerAutoHpRegeneRateInSleep').value},PalStomachDecreaceRate=${document.getElementById('PalStomachDecreaceRate').value},PalStaminaDecreaceRate=${document.getElementById('PalStaminaDecreaceRate').value},PalAutoHPRegeneRate=${document.getElementById('PalAutoHPRegeneRate').value},PalAutoHpRegeneRateInSleep=${document.getElementById('PalAutoHpRegeneRateInSleep').value},BuildObjectHpRate=${document.getElementById('BuildObjectHpRate').value},BuildObjectDamageRate=${document.getElementById('BuildObjectDamageRate').value},BuildObjectDeteriorationDamageRate=${document.getElementById('BuildObjectDeteriorationDamageRate').value},CollectionDropRate=${document.getElementById('CollectionDropRate').value},CollectionObjectHpRate=${document.getElementById('CollectionObjectHpRate').value},CollectionObjectRespawnSpeedRate=${document.getElementById('CollectionObjectRespawnSpeedRate').value},EnemyDropItemRate=${document.getElementById('EnemyDropItemRate').value},DeathPenalty=${document.getElementById('DeathPenalty').value},bEnablePlayerToPlayerDamage=${formatBoolean(document.getElementById('bEnablePlayerToPlayerDamage').checked)},bEnableFriendlyFire=${formatBoolean(document.getElementById('bEnableFriendlyFire').checked)},bEnableInvaderEnemy=${formatBoolean(document.getElementById('bEnableInvaderEnemy').checked)},bActiveUNKO=${formatBoolean(document.getElementById('bActiveUNKO').checked)},bEnableAimAssistPad=${formatBoolean(document.getElementById('bEnableAimAssistPad').checked)},bEnableAimAssistKeyboard=${formatBoolean(document.getElementById('bEnableAimAssistKeyboard').checked)},DropItemMaxNum=${document.getElementById('DropItemMaxNum').value},DropItemMaxNum_UNKO=${document.getElementById('DropItemMaxNum_UNKO').value},BaseCampMaxNum=${document.getElementById('BaseCampMaxNum').value},BaseCampWorkerMaxNum=${document.getElementById('BaseCampWorkerMaxNum').value},DropItemAliveMaxHours=${document.getElementById('DropItemAliveMaxHours').value},bAutoResetGuildNoOnlinePlayers=${formatBoolean(document.getElementById('bAutoResetGuildNoOnlinePlayers').checked)},AutoResetGuildTimeNoOnlinePlayers=${document.getElementById('AutoResetGuildTimeNoOnlinePlayers').value},GuildPlayerMaxNum=${document.getElementById('GuildPlayerMaxNum').value},BaseCampMaxNumInGuild=${document.getElementById('BaseCampMaxNumInGuild').value},PalEggDefaultHatchingTime=${document.getElementById('PalEggDefaultHatchingTime').value},WorkSpeedRate=${document.getElementById('WorkSpeedRate').value},AutoSaveSpan=${document.getElementById('AutoSaveSpan').value},bIsMultiplay=${formatBoolean(document.getElementById('bIsMultiplay').checked)},bIsPvP=${formatBoolean(document.getElementById('bIsPvP').checked)},bHardcore=${formatBoolean(document.getElementById('bHardcore').checked)},bPalLost=${formatBoolean(document.getElementById('bPalLost').checked)},bCharacterRecreateInHardcore=${formatBoolean(document.getElementById('bCharacterRecreateInHardcore').checked)},bCanPickupOtherGuildDeathPenaltyDrop=${formatBoolean(document.getElementById('bCanPickupOtherGuildDeathPenaltyDrop').checked)},bEnableNonLoginPenalty=${formatBoolean(document.getElementById('bEnableNonLoginPenalty').checked)},bEnableFastTravel=${formatBoolean(document.getElementById('bEnableFastTravel').checked)},bIsStartLocationSelectByMap=${formatBoolean(document.getElementById('bIsStartLocationSelectByMap').checked)},bExistPlayerAfterLogout=${formatBoolean(document.getElementById('bExistPlayerAfterLogout').checked)},bEnableDefenseOtherGuildPlayer=${formatBoolean(document.getElementById('bEnableDefenseOtherGuildPlayer').checked)},bInvisibleOtherGuildBaseCampAreaFX=${formatBoolean(document.getElementById('bInvisibleOtherGuildBaseCampAreaFX').checked)},bBuildAreaLimit=${formatBoolean(document.getElementById('bBuildAreaLimit').checked)},ItemWeightRate=${document.getElementById('ItemWeightRate').value},CoopPlayerMaxNum=${document.getElementById('CoopPlayerMaxNum').value},ServerPlayerMaxNum=${document.getElementById('ServerPlayerMaxNum').value},ServerName="${document.getElementById('ServerName').value}",ServerDescription="${document.getElementById('ServerDescription').value}",AdminPassword="${document.getElementById('AdminPassword').value}",ServerPassword="${document.getElementById('ServerPassword').value}",PublicPort=${document.getElementById('PublicPort').value},PublicIP="${document.getElementById('PublicIP').value}",RCONEnabled=${formatBoolean(document.getElementById('RCONEnabled').checked)},RCONPort=${document.getElementById('RCONPort').value},Region="${document.getElementById('Region').value}",bUseAuth=${formatBoolean(document.getElementById('bUseAuth').checked)},BanListURL="${document.getElementById('BanListURL').value}",RESTAPIEnabled=${formatBoolean(document.getElementById('RESTAPIEnabled').checked)},RESTAPIPort=${document.getElementById('RESTAPIPort').value},bShowPlayerList=${formatBoolean(document.getElementById('bShowPlayerList').checked)},ChatPostLimitPerMinute=${document.getElementById('ChatPostLimitPerMinute').value},CrossplayPlatforms=(${platforms}),bIsUseBackupSaveData=${formatBoolean(document.getElementById('bIsUseBackupSaveData').checked)},LogFormatType=${document.getElementById('LogFormatType').value},SupplyDropSpan=${document.getElementById('SupplyDropSpan').value},EnablePredatorBossPal=${formatBoolean(document.getElementById('EnablePredatorBossPal').checked)},MaxBuildingLimitNum=${document.getElementById('MaxBuildingLimitNum').value},ServerReplicatePawnCullDistance=${document.getElementById('ServerReplicatePawnCullDistance').value},bAllowGlobalPalboxExport=${formatBoolean(document.getElementById('bAllowGlobalPalboxExport').checked)},bAllowGlobalPalboxImport=${formatBoolean(document.getElementById('bAllowGlobalPalboxImport').checked)},EquipmentDurabilityDamageRate=${document.getElementById('EquipmentDurabilityDamageRate').value},ItemContainerForceMarkDirtyInterval=${document.getElementById('ItemContainerForceMarkDirtyInterval').value},ItemCorruptionMultiplier=${document.getElementById('ItemCorruptionMultiplier').value})`;

            const output = `[/Script/Pal.PalGameWorldSettings]\n${settings}`;
            document.getElementById('output').value = output;

            showMessage('successMessage', 'INI file content generated successfully!');
        }

        // Copy to clipboard (modern API with fallback)
        async function copyToClipboard() {
            const output = document.getElementById('output');
            if (!output.value) {
                showMessage('errorMessage', 'Please generate INI output first!');
                return;
            }

            try {
                // Try modern clipboard API first
                if (navigator.clipboard && window.isSecureContext) {
                    await navigator.clipboard.writeText(output.value);
                } else {
                    // Fallback to older method
                    output.select();
                    document.execCommand('copy');
                }

                const copyMsg = document.getElementById('copySuccess');
                copyMsg.textContent = 'Copied to clipboard! ✓';
                copyMsg.style.display = 'block';
                setTimeout(() => {
                    copyMsg.style.display = 'none';
                }, 3000);
            } catch (err) {
                showMessage('errorMessage', 'Failed to copy to clipboard. Please copy manually.');
            }
        }

        // Load settings from INI file
        function loadFromFile(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const content = e.target.result;
                    parseINI(content);
                    showMessage('successMessage', 'Settings loaded from file successfully!');
                } catch (error) {
                    showMessage('errorMessage', 'Error parsing INI file: ' + error.message);
                }
            };
            reader.readAsText(file);
        }

        // Parse INI content and populate form
        function parseINI(content) {
            const match = content.match(/OptionSettings=\((.*)\)/s);
            if (!match) {
                throw new Error('Invalid INI format');
            }

            const settingsStr = match[1];
            const settings = {};

            // Parse key=value pairs, handling quoted values
            let currentKey = '';
            let currentValue = '';
            let inQuotes = false;
            let inParens = false;

            for (let i = 0; i < settingsStr.length; i++) {
                const char = settingsStr[i];

                if (char === '"') {
                    inQuotes = !inQuotes;
                    currentValue += char;
                } else if (char === '(' && !inQuotes) {
                    inParens = true;
                    currentValue += char;
                } else if (char === ')' && !inQuotes) {
                    inParens = false;
                    currentValue += char;
                } else if (char === '=' && !inQuotes && !currentKey) {
                    currentKey = currentValue.trim();
                    currentValue = '';
                } else if (char === ',' && !inQuotes && !inParens) {
                    if (currentKey) {
                        settings[currentKey] = currentValue.trim();
                    }
                    currentKey = '';
                    currentValue = '';
                } else {
                    currentValue += char;
                }
            }

            // Add last setting
            if (currentKey) {
                settings[currentKey] = currentValue.trim();
            }

            // Populate form fields
            Object.keys(settings).forEach(key => {
                let value = settings[key];

                // Remove quotes from string values
                if (value.startsWith('"') && value.endsWith('"')) {
                    value = value.slice(1, -1);
                }

                const element = document.getElementById(key);
                if (element) {
                    if (element.type === 'checkbox') {
                        element.checked = value === 'True' || value === 'true';
                    } else {
                        element.value = value;
                    }
                }
            });

            // Handle CrossplayPlatforms specially
            if (settings.CrossplayPlatforms) {
                const platforms = settings.CrossplayPlatforms.replace(/[()]/g, '').split(',');
                document.querySelectorAll('[id^="platform_"]').forEach(cb => {
                    cb.checked = platforms.includes(cb.value);
                });
            }
        }

        // Reset to defaults
        function resetToDefaults() {
            if (!confirm('Are you sure you want to reset all settings to default values?')) {
                return;
            }

            document.getElementById('settingsForm').reset();

            // Reset checkboxes to their default states
            document.getElementById('bUseAuth').checked = true;
            document.getElementById('bEnableInvaderEnemy').checked = true;
            document.getElementById('bEnableAimAssistPad').checked = true;
            document.getElementById('bEnableFastTravel').checked = true;
            document.getElementById('bIsStartLocationSelectByMap').checked = true;
            document.getElementById('bEnableNonLoginPenalty').checked = true;
            document.getElementById('bIsUseBackupSaveData').checked = true;
            document.getElementById('bAllowGlobalPalboxExport').checked = true;
            document.getElementById('EnablePredatorBossPal').checked = true;

            // Reset all platform checkboxes
            document.querySelectorAll('[id^="platform_"]').forEach(cb => cb.checked = true);

            showMessage('successMessage', 'All settings reset to defaults!');
        }

        // Show message helper (enhanced with icons)
        function showMessage(elementId, message) {
            const msgElement = document.getElementById(elementId);
            const span = msgElement.querySelector('span');
            if (span) {
                span.textContent = message;
            } else {
                msgElement.textContent = message;
            }
            msgElement.style.display = 'flex';
            setTimeout(() => {
                msgElement.style.display = 'none';
            }, 5000);
        }

        // Apply preset configurations
        function applyPreset(preset) {
            if (!confirm(`Apply ${preset.charAt(0).toUpperCase() + preset.slice(1)} Mode preset? This will override your current settings.`)) {
                return;
            }

            // Reset to defaults first
            document.getElementById('settingsForm').reset();

            // Apply preset-specific values
            if (preset === 'casual') {
                // Easier gameplay
                document.getElementById('ExpRate').value = '2.000000';
                document.getElementById('PalCaptureRate').value = '2.000000';
                document.getElementById('PlayerDamageRateAttack').value = '1.5';
                document.getElementById('PlayerDamageRateDefense').value = '0.7';
                document.getElementById('PalDamageRateAttack').value = '1.3';
                document.getElementById('EnemyDropItemRate').value = '2.0';
                document.getElementById('CollectionDropRate').value = '2.0';
                document.getElementById('WorkSpeedRate').value = '2.0';
                document.getElementById('DeathPenalty').value = 'Item';
                document.getElementById('bEnableFastTravel').checked = true;
                document.getElementById('PalEggDefaultHatchingTime').value = '36.000000';
                showMessage('successMessage', 'Casual Mode preset applied! Easier gameplay with faster progression.');
            } else if (preset === 'normal') {
                // Default balanced gameplay
                document.getElementById('ExpRate').value = '1.000000';
                document.getElementById('PalCaptureRate').value = '1.000000';
                document.getElementById('PlayerDamageRateAttack').value = '1.000000';
                document.getElementById('PlayerDamageRateDefense').value = '1.000000';
                document.getElementById('PalDamageRateAttack').value = '1.000000';
                document.getElementById('EnemyDropItemRate').value = '1.000000';
                document.getElementById('CollectionDropRate').value = '1.000000';
                document.getElementById('WorkSpeedRate').value = '1.000000';
                document.getElementById('DeathPenalty').value = 'All';
                document.getElementById('bEnableFastTravel').checked = true;
                document.getElementById('PalEggDefaultHatchingTime').value = '72.000000';
                showMessage('successMessage', 'Normal Mode preset applied! Balanced default settings.');
            } else if (preset === 'hardcore') {
                // Harder gameplay
                document.getElementById('ExpRate').value = '0.5';
                document.getElementById('PalCaptureRate').value = '0.5';
                document.getElementById('PlayerDamageRateAttack').value = '0.8';
                document.getElementById('PlayerDamageRateDefense').value = '1.5';
                document.getElementById('PalDamageRateAttack').value = '0.7';
                document.getElementById('EnemyDropItemRate').value = '0.5';
                document.getElementById('CollectionDropRate').value = '0.7';
                document.getElementById('WorkSpeedRate').value = '0.5';
                document.getElementById('DeathPenalty').value = 'All';
                document.getElementById('bHardcore').checked = true;
                document.getElementById('bPalLost').checked = true;
                document.getElementById('bEnableFastTravel').checked = false;
                document.getElementById('PalEggDefaultHatchingTime').value = '120.000000';
                document.getElementById('PlayerStomachDecreaceRate').value = '2.000000';
                document.getElementById('PlayerStaminaDecreaceRate').value = '1.5';
                showMessage('successMessage', 'Hardcore Mode preset applied! Challenging survival experience.');
            }

            // Set common default checkboxes
            document.getElementById('bUseAuth').checked = true;
            document.getElementById('bEnableInvaderEnemy').checked = true;
            document.getElementById('bEnableAimAssistPad').checked = true;
            document.getElementById('bIsStartLocationSelectByMap').checked = true;
            document.getElementById('bEnableNonLoginPenalty').checked = true;
            document.getElementById('bIsUseBackupSaveData').checked = true;
            document.getElementById('bAllowGlobalPalboxExport').checked = true;
            document.getElementById('EnablePredatorBossPal').checked = true;
            document.querySelectorAll('[id^="platform_"]').forEach(cb => cb.checked = true);
        }

        // Initialize - set default values
        document.addEventListener('DOMContentLoaded', function() {
            // Set default checkboxes
            document.getElementById('bUseAuth').checked = true;
            document.getElementById('bEnableInvaderEnemy').checked = true;
            document.getElementById('bEnableAimAssistPad').checked = true;
            document.getElementById('bEnableFastTravel').checked = true;
            document.getElementById('bIsStartLocationSelectByMap').checked = true;
            document.getElementById('bEnableNonLoginPenalty').checked = true;
            document.getElementById('bIsUseBackupSaveData').checked = true;
            document.getElementById('bAllowGlobalPalboxExport').checked = true;
            document.getElementById('EnablePredatorBossPal').checked = true;
        });
    </script>
</body>
</html>